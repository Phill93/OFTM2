{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <title>OFTM2 - {{ title }}</title>
    <link rel="stylesheet" href="{% static "css/main.css" %}">
</head>
<body>
<div class="mdl-grid">

    <div class="mdl-card mdl-shadow--16dp util-center util-spacing-h--40px">
        <div class="mdl-card__title mdl-color--grey-800">
            <h2 class="mdl-card__title-text mdl-color-text--white">User Login</h2>
        </div>
        <div class="mdl-card__supporting-text mdl-grid">
            {% if form.errors %}
            <b class="mdl-color-text--accent">Username and password didnt't match!</b>
            {% endif %}
            {% if next %}
                {% if user.is_authenticated %}
                <b class="mdl-color-text--accent">Your account doesn't have access to this page. To proceed,
                    please login with an account that has access.</b>
                {% else %}
                <b class="mdl-color-text--accent">Please login to see this page.</b>
                {% endif %}
            {% endif %}

            <form method="POST" action="{% url 'login' %}">
                {% csrf_token %}
                {% if next %}
                <input type="hidden" name="next" value="{{ next }}" />
                {% else %}
                <input type="hidden" name="next" value="{% url "portal" %}" />
                {% endif %}

                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col">
                    <label class="mdl-textfield__label mdl-color-text--grey" for="textfield_username">Username</label>
                    <input class="mdl-textfield__input" type="text" id="textfield_username" name="username"/>
                </div>

                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col">
                    <label class="mdl-textfield__label mdl-color-text--grey" for="textfield_password">Password</label>
                    <input class="mdl-textfield__input" type="password" id="textfield_password" name="password"/>

                </div>

                <div class="mdl-cell mdl-cell--12-col send-button" align="center">

                    <button type="submit" class="mdl-button mdl-js-ripple-effect mdl-js-button mdl-button--raised mdl-button--colored mdl-color--primary">
                        Log In
                    </button>
                    <a href="{{request.META.HTTP_REFERER}}">
                        <button class="mdl-button mdl-js-ripple-effect mdl-js-button mdl-button--raised mdl-button--colored mdl-color--red">
                            Zur√ºck
                        </button>
                    </a>
                </div>

            </form>

        </div>
    </div>
</div>
<script src="{% static "js/main.js" %}"></script>
</body>
</html>